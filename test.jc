#include "ASEIO.h"



float tim_1=0.0f;
int btn_1=0;
int btn_2=0;
int btn_3=0;
int gi_1=0;
int gi_2=0;
int gi_9=0;
int gi_10=0;

void SubRoutine_1();
void SubRoutine_2();
void SubRoutine_3();
void SubRoutine_4();

/*chose*/
void SubRoutine_1( )
{
    if(btn_2 == 1)
    {
        if(gi_1 == 1)
        {
        }
    }
    else
    {
        if(btn_1 == 1)
        {
        }
    }
    if(gi_1 == 1)
    {
        if(gi_1 == 1)
        {
        }
    }
    else
    {
        if(gi_1 == 1)
        {
        }
    }
}

/*do thing*/
void SubRoutine_2( )
{
    WER_next();		
    SubRoutine_3 ();		
    
    WER_next();		
    SubRoutine_4 ();			
}

/*1lf*/
void SubRoutine_3( )
{
    printf( "1-1\nTASK1\nquyuanliao\n\nRUNNING\n\n\n" );
    /* 任务1放置处 */
    BEEP(1047.000000,0.250000);
    /* setmoto */
    WER_SetMotor_L=(2,">=",2000,%gi_1,%gi_1,0);
    wait( 0.200000 );
    /* ad way */
    WER_Lineway_O(4,">=",1000,%gi_1,0,0,0);
    /* ti way */
    WER_LineWay_T(%gi_1,0,0,1,0.800);
    WER_LineWay_T(%gi_1,0,0,1,0.800);
    wait( 0.300000 );
    gi_1=-26;
    WER_SetMotor(%gi_1,%gi_1,0.500);
    PO16_Move(1,512,682);
    wait( 0.500000 );
    WER_SetMotor(26,26,0.300);
    wait( 0.300000 );
    PO16_Move(1,300,341);
    wait( 0.500000 );		
    PO16_Move(1,512,505);
    wait( 0.200000 );
    WER_SetMotor(25,20,0.300);
    wait( 0.500000 );		
    WER_SetMotor(-20,-20,0.500);
    PO16_Move(1,512,706);
    wait( 0.200000 );
    WER_SetMotor(-70,-70,1.300);
}

/*1ls*/
void SubRoutine_4( )
{
    printf( "1-2\nTASK2\nqukuangshi\n\nRUNNING\n\n\n" );
    /* 任务2放置处 */
    BEEP(1047.000000,0.250000);
    WER_SetMotor_L(4,">=",2000,40,40,0);
    wait( 0.500000 );
    WER_LineWay_C(1,1,50,0,0,1,0.400);
    WER_Around(40,-40,0,1,0);
    WER_LineWay_T(57,0,0,0,1.000);
    WER_LineWay_T(30,0,0,1,0.600);
    PO16_Move(1,1022,675);
    wait( 1.000000 );
    WER_SetMotor(-20,-20,0.200);
    wait( 0.300000 );
    WER_SetMotor(-20,-20,0.400);
    wait( 0.300000 );
    PO16_Move(1,1022,716);
    wait( 0.500000 );
    WER_SetMotor(-30,-30,0.600);
    wait( 0.500000 );
    WER_SetMotor(30,-30,0.700);
    WER_SetMotor(60,60,2.500);
}

void main()
{
    while(1)
    {
        if(gi_10 == 1)
        {
            SubRoutine_2 ();		
            
        }
        else
        {
            if(btn_3 == 1)
            {
                SubRoutine_2 ();		
                
            }
            else
            {
                if(btn_2 == 1)
                {
                    while(gi_10 == 0)
                    {
    SubRoutine_1 ();		
    
                        if(gi_1 == 1)
                        {
                            gi_10 = 1 + 0;
                        }
                    }
                }
            }
        }
    }

}
void task_1()
{
    while(gi_10 == 1)
    {
        btn_1 = Get_BtnLeft();
    }
    resettime();		
    while(gi_10 == 1)
    {
        tim_1 =seconds();		
        gi_9 = tim_1 + 0;
        printf( "time is \ngi_9=%d\ns\n\n\n\n\n",gi_9 );
    }
}
void task_2()
{
    while(gi_10 == 1)
    {
        btn_2 = Get_BtnRight();
    }
}
void task_3()
{
    while(gi_10 == 1)
    {
        btn_3 = Get_Button();
    }
}
void task_4()
{
    /* speed */
    gi_1=40;
    gi_2=40;
}



//2013DUODUOuse-testA0905